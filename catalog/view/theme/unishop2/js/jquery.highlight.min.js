/*Based on highlight v3 by Johann Burkard Copyright (c) 2009 Bartek Szopka*/
(function(c){"function"===typeof define&&define.amd?define(["jquery"],c):"object"===typeof exports?c(require("jquery")):c(jQuery)})(function(c){c.extend({highlight:function(a,d,e,b,f,h){if(3===a.nodeType){if(d=(h?c.removeDiacritcs(a.data):a.data).match(d))return e=document.createElement(e||"span"),e.className=b||"highlight",b=a.data.indexOf(d[1],d.index),a=a.splitText(b),a.splitText(d[1].length),b=a.cloneNode(!0),e.appendChild(b),a.parentNode.replaceChild(e,a),"function"==typeof f&&f(e),1}else if(1===
a.nodeType&&a.childNodes&&!/(script|style)/i.test(a.tagName)&&(a.tagName!==e.toUpperCase()||a.className!==b))for(var g=0;g<a.childNodes.length;g++)g+=c.highlight(a.childNodes[g],d,e,b,f,h);return 0},removeDiacritcs:function(a){return a.replace(/[\u00c0-\u00c6]/g,"A").replace(/[\u00e0-\u00e6]/g,"a").replace(/[\u00c7]/g,"C").replace(/[\u00e7]/g,"c").replace(/[\u00c8-\u00cb]/g,"E").replace(/[\u00e8-\u00eb]/g,"e").replace(/[\u00cc-\u00cf]/g,"I").replace(/[\u00ec-\u00ef]/g,"i").replace(/[\u00d1|\u0147]/g,
"N").replace(/[\u00f1|\u0148]/g,"n").replace(/[\u00d2-\u00d8|\u0150]/g,"O").replace(/[\u00f2-\u00f8|\u0151]/g,"o").replace(/[\u0160]/g,"S").replace(/[\u0161]/g,"s").replace(/[\u00d9-\u00dc]/g,"U").replace(/[\u00f9-\u00fc]/g,"u").replace(/[\u00dd]/g,"Y").replace(/[\u00fd]/g,"y")},normalize:function(a){if(a){if(3==a.nodeType)for(;a.nextSibling&&3==a.nextSibling.nodeType;)a.nodeValue+=a.nextSibling.nodeValue,a.parentNode.removeChild(a.nextSibling);else c.normalize(a.firstChild);c.normalize(a.nextSibling)}}});
c.fn.unhighlight=function(a){var d={className:"highlight",element:"span"};c.extend(d,a);return this.find(d.element+"."+d.className).each(function(){var a=this.parentNode;a.replaceChild(this.firstChild,this);c.normalize(a)}).end()};c.fn.highlight=function(a,d,e){var b={className:"highlight",element:"span",caseSensitive:!1,wordsOnly:!1,wordsBoundary:"\\b",ignoreDiacritics:!1};c.extend(b,d);"string"===typeof a&&(a=[a]);a=c.grep(a,function(a){return""!=a});a=c.map(a,function(a){b.ignoreDiacritics&&(a=
c.removeDiacritcs(a));return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")});if(0===a.length)return this;d=b.caseSensitive?"":"i";a="("+a.join("|")+")";b.wordsOnly&&(a=(b.wordsBoundaryStart||b.wordsBoundary)+a+(b.wordsBoundaryEnd||b.wordsBoundary));var f=new RegExp(a,d);return this.each(function(){c.highlight(this,f,b.element,b.className,e,b.ignoreDiacritics)})}});